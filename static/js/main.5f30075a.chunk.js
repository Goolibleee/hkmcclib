(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{139:function(e){e.exports=JSON.parse('{"en":{"idHolder":"Enter User ID","pwHolder":"Enter email or phone","logIn":"Log In","logOut":"Log Out","logInSucceed":"Logged in","logInFail":"Log In Failed","nameSuffix":"","checkOut":"Check Out","checkOutTitle":"Check Out Status","search":"Search","searchTitle":"Book Search","history":"Rent History","loading":"Loading DB","succeededToOpen":"Succeeded to load","searchUser":"Enter name or ID","searchBook":"Enter book keywords","failedToOpen":"Failed to open DB Refresh page later","available":"Available","checkedOut":"Checked out","reserved":"Reserved","overDue":"Over due","lost":"Lost","damaged":"Damanged","given":"Given","notAvailable":"Not available","deleted":"Deleted","id":"ID","bookName":"Book name","rentDate":"Rent date","returnDate":"Return date","noEntry":"No entry"},"kr":{"idHolder":"\ud68c\uc6d0\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694","pwHolder":"\uc774\uba54\uc77c\uc774\ub098 \uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694","logIn":"\ub85c\uadf8\uc778","logOut":"\ub85c\uadf8\uc544\uc6c3","logInSucceed":"\ub85c\uadf8\uc778 \uc131\uacf5","logInFail":"\ub85c\uadf8\uc778 \uc2e4\ud328","nameSuffix":" \ub2d8","checkOut":"\ub300\ucd9c\uae30\ub85d","checkOutTitle":"\ub300\ucd9c \uae30\ub85d \uc870\ud68c","search":"\ub3c4\uc11c\uac80\uc0c9","searchTitle":"\ub3c4\uc11c \uac80\uc0c9","history":"\ub300\ucd9c \uc774\ub825","loading":"DB \uc870\ud68c \uc911","succeededToOpen":"DB \uc870\ud68c \uc644\ub8cc","searchUser":"\uc774\ub984 \ub610\ub294 \ud68c\uc6d0\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694","searchBook":"\ucc45 \ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694","failedToOpen":"DB \uc870\ud68c\uac00 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4 \uc7a0\uc2dc \ud6c4 \ud654\uba74\uc744 \uac31\uc2e0\ud574\uc8fc\uc138\uc694","available":"\ub300\ucd9c\uac00\ub2a5","checkedOut":"\ub300\ucd9c\uc911","reserved":"\uc608\uc57d\uc911","overDue":"\uc5f0\uccb4\uc911","lost":"\ubd84\uc2e4","damaged":"\ud30c\uc190","given":"\uae30\uc99d","notAvailable":"\ub300\ucd9c\ubd88\uac00","deleted":"\ud3d0\uae30","id":"\ubc88\ud638","bookName":"\ub3c4\uc11c\uba85","rentDate":"\ub300\ucd9c\uc77c","returnDate":"\ubc18\ub0a9\uc77c","noEntry":"\ub0b4\uc5ed \uc5c6\uc74c"}}')},147:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},238:function(e,t){},241:function(e,t){},252:function(e,t){},254:function(e,t){},281:function(e,t){},283:function(e,t){},284:function(e,t){},289:function(e,t){},291:function(e,t){},297:function(e,t){},299:function(e,t){},318:function(e,t){},330:function(e,t){},333:function(e,t){},354:function(e,t,n){},355:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(8),r=n(0),o=n.n(r),s=n(95),i=n.n(s),l=(n(226),n(72)),u=(n(227),n(23)),d=n(7),b=(n(147),n(26)),j=n(381),O=10,h=500;String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[t])}return e};var p={position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},f="custom-loading-id",g="custom-logging-id",x=n(207),v=n.n(x),k=n(209),m=n.n(k),A=n(4),S=!1;var y,D,E=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1],i=Object(j.a)(o,50),l=Object(d.a)(i,1)[0],f=Object(r.useState)([]),g=Object(d.a)(f,2),x=g[0],k=g[1],y=Object(r.useState)([]),D=Object(d.a)(y,2),E=D[0],I=D[1],C=Object(r.useState)(0),T=Object(d.a)(C,2),w=T[0],B=T[1],R=Object(r.useState)(0),U=Object(d.a)(R,2),N=U[0],L=U[1],P=Object(r.useState)([]),H=Object(d.a)(P,2),z=H[0],K=H[1],Y=Object(r.useState)([]),q=Object(d.a)(Y,2),Z=q[0],V=q[1];function F(){return Q.apply(this,arguments)}function Q(){return Q=Object(a.a)(Object(c.a)().mark((function t(){var n,a,r,o,s,i,l,u,d,j=arguments;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=!(j.length>0&&void 0!==j[0])||j[0],console.log("All data loaded "+S),S=!0,n&&((a=p).type=b.c.TYPE.SUCCESS,a.render=e.text.succeededToOpen,a.autoClose=3e3,a.toastId="",b.c.info(e.text.loading,a)),console.log("Done"),r=[],o=e.doc.rent,s=0;s<o.length;s++)r.push({code:o[s].book_id,retDate:o[s].return_date,state:o[s].state});for(u in V(r),i=[],l=e.doc.book)d=l[u],i.push({code:d._id,name:d.title,num:d.num,author:d.author,claim:d.claim,claim_num:d.claim_num,totalName:d.series,category:d.publisher,publish:d.publisher});console.log("Load"),console.log(l.length),K(i);case 15:case"end":return t.stop()}}),t)}))),Q.apply(this,arguments)}Object(r.useEffect)((function(){function t(){return(t=Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.doc.isOpen()?F(!1):e.doc.setCallback(F);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function t(e){return n.apply(this,arguments)}function n(){return(n=Object(a.a)(Object(c.a)().mark((function t(n){var a,r,o,s,i,l,d,b,j,O;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],r=0;case 2:if(!(r<z.length)){t.next=33;break}if(o=z[r],!(a.length>=h)){t.next=6;break}return t.abrupt("break",33);case 6:if(!o.name||!o.name.toString().includes(n)){t.next=30;break}s="".concat(o.name," ").concat(o.claim_num),i=e.text.available,l="",d=Object(u.a)(Z),t.prev=11,d.s();case 13:if((b=d.n()).done){t.next=20;break}if((j=b.value).code!==o.code){t.next=18;break}return"1"===j.state?(i=e.text.checkedOut,l=e.text.returnDate+" "+j.retDate):"3"===j.state?(i=e.text.overDue,l=e.text.returnDate+" "+j.retDate):i=e.text.notAvailable,t.abrupt("break",20);case 18:t.next=13;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(11),d.e(t.t0);case 25:return t.prev=25,d.f(),t.finish(25);case 28:O={index:r,text:s,name:o.name,code:o.code.toString(),rent:i,retDate:l},a.push(O);case 30:r++,t.next=2;break;case 33:return a.sort((function(e,t){return e.text>t.text})),t.abrupt("return",a);case 35:case"end":return t.stop()}}),t,null,[[11,22,25,28]])})))).apply(this,arguments)}function r(){return(r=Object(a.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return e.next=3,t(l);case 3:(n=e.sent).length>0?k(n):k([]),e.next=8;break;case 7:k([]);case 8:B(0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[l,z,Z,e]),Object(r.useEffect)((function(){var e=x.length;if(console.log("Page num "+w.toString()),e>O){var t=w*O,n=Math.min(O,e-t);I(x.slice(t,t+n))}else I(x),B(0)}),[x,w]);var M=function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===N||N!==t?(console.log("Select "+t),L(t)):(console.log("Deselect "+t),L(-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{id:"search",children:[Object(A.jsx)("div",{id:"title",children:Object(A.jsxs)("h1",{children:[" ",e.text.searchTitle," "]})}),Object(A.jsxs)("div",{id:"searchContents",children:[Object(A.jsx)("input",{id:"searchInput",placeholder:e.text.searchBook,value:o,onChange:function(e){s(e.target.value)}}),E.map((function(e){return function(e){var t=e.index!==N,n=z[e.index],r=t?"searchResult":"selectedSearchResult";return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{id:r,onClick:Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e.index);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:Object(A.jsx)("table",{children:Object(A.jsx)("tbody",{children:Object(A.jsxs)("tr",{className:"searchTr",children:[Object(A.jsxs)("td",{className:"searchTitle",children:[" ",e.text]}),Object(A.jsxs)("td",{className:"searchRent",children:[" ",e.rent," "]})]})})})}),!t&&Object(A.jsx)("div",{children:Object(A.jsx)("table",{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsxs)("td",{children:[n.author," "]}),Object(A.jsxs)("td",{colSpan:"2",rowSpan:"2",children:[n.totalName," ",Object(A.jsx)("b",{children:n.name})," ",n.claim_num," "]})]}),Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{children:[n.code," "]})}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:n.publish}),Object(A.jsxs)("td",{colSpan:e.retDate.length>0?"1":"2",children:[n.claim," "]}),e.retDate.length>0&&Object(A.jsx)("td",{children:e.retDate})]})]})})})]},e.code)}(e)}))]}),x.length>O&&Object(A.jsxs)("div",{id:"pageControl",children:[Object(A.jsx)("div",{className:"page",id:"page",children:Object(A.jsx)(v.a,{fontSize:"large",color:0===w?"disabled":"primary",onClick:function(){w>0&&B(w-1)}})}),Object(A.jsx)("div",{className:"pageNum",id:"pageNum",children:w+1}),Object(A.jsx)("div",{className:"page",id:"page",children:Object(A.jsx)(m.a,{fontSize:"large",color:x.length===(w+1)*O?"disabled":"primary",onClick:function(){x.length>(w+1)*O&&B(w+1)}})})]})]})},I=n(372),C=n(74),T=n(232),w=Object(C.a)(y||(y=Object(l.a)(["\n    query FindUser($_id: String!){\n        user (query: {_id:$_id}) {\n            _id\n            name\n            encrypted_email\n            encrypted_phone\n        }\n    }"]))),B=Object(C.a)(D||(D=Object(l.a)(["\n    query findLogs($user_id: String!){\n        rentLogs (query: {user_id: $user_id}) {\n            _id\n            book_id\n            book_state\n            timestamp\n            user_id\n        }\n    }"]))),R=new T("-----BEGIN RSA PRIVATE KEY-----\nMIICYAIBAAKBgQCrjaN6qZ81C0wl1uegCHbI/psEvpTNzBCS42ZwvVDq2y69kXfx\nkDygmKqWi8rTFm6lx474GOAKpneEQ3ragP017HbW55hrXhQu2jK/UE5OPdIImPF5\nY2v28y0WEdWd0h6/4S28lSE5nG0IigsfuIh0FIvH9vGVwBqCPm1DOEAUIQIDAQAB\nAoGAE/ZVUY6vUfLQl46cQUj62YSW8URj+FaIjy8a2n+NDOcYV0K4HEnWZDGfmAkI\nPuvbUDsabdAnMdYRDjjz1H7L4Y52vU+ZqD3+kJ3iUsR9Ba+R17zS6F4HVNPCzUDI\nOpgE+z8od8+on2cppBPHMEl/Ze+CcKYLz7bLs8zje8QHZMkCRQDyuEx9WQSCf0LS\nds+jwr7npwVlbb737oal6UKuVzKv039aLaxBpsAeMQsSdXgBq2E2ChmC8SmPuB0V\n0mutfSBu2UapkwI9ALTwh/iFkje7O/1wjCVZn4TnLz6a4nx676rydpsRy2PrDyQ3\naC5SWmzQezeSTs9Qmbhxm4ZTj3Co4aeL+wJEC+zqNS5ufkrqaZTU1uL2pkMajMU7\noMrjartvP0mhf+oQU8nysLcUsWcPeDS1VL+q4xDT+A8JT7poE25nQ/rl4Qxj4GkC\nPQCR+zoIlWOZ2VMWMBayD7P22zqvzPCMM/dnuYVdqSaqr7wgoR9JuCHChxXSiRVS\niBntyKMM5h/laivdLL8CRGdrBwiAkVrYnghDj+9UJX9Twox3oahPqYhzxWJR7jZ4\nipOKhw9r+YfZDNDYpVgE+g2KB75tZlOU9Hx7dXyzANnsIueT\n-----END RSA PRIVATE KEY-----\n");var U=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),o=n[0],s=n[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),u=l[0],j=l[1],O=Object(r.useState)([]),h=Object(d.a)(O,2),f=h[0],x=h[1],v=Object(r.useState)(!1),k=Object(d.a)(v,2),m=k[0],S=k[1],y=Object(r.useState)(""),D=Object(d.a)(y,2),E=D[0],C=D[1],T=Object(r.useState)(!1),U=Object(d.a)(T,2),N=U[0],L=U[1],P=Object(r.useState)([]),H=Object(d.a)(P,2),z=H[0],K=H[1],Y=Object(I.a)(w,{variables:{_id:E}}),q=Object(d.a)(Y,2),Z=q[0],V=q[1].data,F=Object(I.a)(B,{variables:{user_id:E}}),Q=Object(d.a)(F,2),M=Q[0],W=Q[1].data;function G(){return J.apply(this,arguments)}function J(){return J=Object(a.a)(Object(c.a)().mark((function t(){var n,a,r,o=arguments;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(o.length>0&&void 0!==o[0])||o[0],console.log("All data loaded "+m),!e.doc.logged){t.next=9;break}return L(!0),a=e.doc.userInfo._id,C(a),x(e.doc.getRent(a)),t.next=9,M();case 9:n&&((r=p).type=b.c.TYPE.SUCCESS,r.render=e.text.succeededToOpen,r.autoClose=3e3,r.toastId="",b.c.info(e.text.succeededToOpen,r)),console.log("Done"),S(!0);case 12:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}Object(r.useEffect)((function(){function t(){return(t=Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.doc.isOpen()?G(!1):e.doc.setCallback(G),console.log("======================================="),console.log("CheckOut initialize");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){console.log("User data updated "),ee()}),[V]),Object(r.useEffect)((function(){var t=[];if(W){console.log("History updated ");for(var n=0;n<W.rentLogs.length;n++){var c=W.rentLogs[n];if("0"===c.book_state||"1"===c.book_state){var a=c.book_id,r=c.timestamp.split(" ")[0].replace("-","/",2).replace("-","/");t.push({id:a,title:e.doc.book[a].title,date:r,state:c.book_state})}}t.sort((function(e,t){return e.date>t.date}));for(var o=[],s=0;s<t.length-1;s++)if("1"===t[s].state)for(var i=t[s],l=i.id,u=s+1;u<t.length;u++)if("0"===t[u].state&&l===t[u].id){o.push({id:i.id,title:i.title,rentDate:i.date,retDate:t[u].date});break}console.log("Set history"),K(o)}}),[W]);var X=function(t){return Object(A.jsx)("div",{children:Object(A.jsx)("table",{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{id:"id",children:e.text.id}),Object(A.jsx)("th",{id:"rentDate",children:e.text.rentDate}),Object(A.jsx)("th",{id:"returnDate",children:e.text.returnDate})]}),t.map((function(e,t){return function(e,t){var n=e.id,c=e.rentDate,a=e.retDate,r=e.title;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("tr",{className:"bookData",children:[Object(A.jsx)("td",{className:"bookData",children:n}),Object(A.jsx)("td",{className:"bookData",children:c}),Object(A.jsx)("td",{className:"bookData",children:a})]},t),Object(A.jsx)("tr",{className:"bookName",children:Object(A.jsx)("td",{colSpan:"3",className:"bookName",children:r})},t.toString()+"Title")]})}(e,t)})),0===t.length&&Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:"3",children:e.text.noEntry})},"None")]})})})},_=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(o.toUpperCase()),e.next=3,Z();case 3:return e.next=5,M();case 5:console.log("Log In"),ee();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(a.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(""),console.log("Log Out"),e.doc.logOut(),L(!1),document.getElementById("searchPassword").value="",j("");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function ee(){if(V&&V.user&&u.length>0){console.log("User data available");var t=V.user.encrypted_email,n=V.user.encrypted_phone,c=!1;if(t===R.sign(u,"base64"))c=!0;else{for(var a="",r=0;r<u.length;r++)isNaN(u[r])||(a+=u[r]);R.sign(a,"base64")===n&&(c=!0)}console.log(b.c.isActive(g));var o,s=p;c?(e.doc.logIn(V.user),x(e.doc.getRent(E)),L(!0),s.type=b.c.TYPE.SUCCESS,o=e.text.logInSucceed):(s.type=b.c.TYPE.ERROR,o=e.text.logInFail),s.render=o,s.autoClose=3e3,s.toastId=g,b.c.isActive(g)?(console.log("update toast"),b.c.update(g,s)):(console.log("New toast"),b.c.info(o,s))}}return Object(A.jsxs)("div",{id:"checkOut",children:[Object(A.jsx)("div",{id:"title",children:Object(A.jsx)("h1",{children:e.text.checkOutTitle})}),Object(A.jsxs)("div",{id:"checkOutInput",hidden:N,children:[Object(A.jsx)("input",{type:"text",id:"searchInput",placeholder:e.text.idHolder,value:o,disabled:!m,onInput:function(e){s(e.target.value)}}),Object(A.jsx)("input",{type:"password",id:"searchPassword",placeholder:e.text.pwHolder,value:u,disabled:!m,onInput:function(e){j(e.target.value)}}),Object(A.jsxs)("button",{id:"logIn",onClick:Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_());case 1:case"end":return e.stop()}}),e)}))),children:[" ",e.text.logIn," "]})]}),Object(A.jsxs)("div",{id:"checkOutResult",hidden:!N,children:[Object(A.jsxs)("div",{id:"checkOutUser",children:[Object(A.jsxs)("div",{id:"name",children:[" ",e.doc.userInfo._id+" : "+e.doc.userInfo.name+e.text.nameSuffix]}),Object(A.jsx)("div",{id:"logOut",children:Object(A.jsxs)("button",{id:"logOutButton",onClick:Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$());case 1:case"end":return e.stop()}}),e)}))),children:[" ",e.text.logOut," "]})})]}),Object(A.jsx)("div",{children:X(f)}),Object(A.jsx)("div",{id:"name",children:e.text.history}),Object(A.jsx)("div",{children:X(z)})]})]})},N=(n(353),n(85)),L=n(9),P=n(13),H=n(14),z=function(){function e(){Object(P.a)(this,e),console.log("Create Doc class"),this.initialized=!1,this.bookReady=!1,this.rentReady=!1,this.logged=!1,this.userInfo={},this.book={},this.rent={}}return Object(H.a)(e,[{key:"checkState",value:function(){this.bookReady&&this.rentReady&&(this.initialized=!0,this.callback&&(b.c.dismiss(),this.callback()))}},{key:"setRent",value:function(e){this.rent=e,this.rentReady=!0,this.checkState()}},{key:"setBook",value:function(e){this.book={};for(var t=0;t<e.length;t++){var n=e[t],c=n._id;this.book[c]=n}this.bookReady=!0,this.checkState()}},{key:"logIn",value:function(e){console.log("Logged in: "+e._id),this.logged=!0,this.userInfo=e}},{key:"logOut",value:function(){console.log("Logged out"),this.logged=!1,this.userInfo={}}},{key:"getRent",value:function(e){var t=[];console.log("Check "+e);for(var n=0;n<this.rent.length;n++){var c=this.rent[n];if(c.user_id===e){var a=c.book_id,r=this.book[a],o={};o.id=r._id,o.title=r.title,o.rentDate=c.rent_date.split(" ")[0].replace("-","/",2).replace("-","/"),o.retDate=c.return_date.split(" ")[0].replace("-","/",2).replace("-","/"),t.push(o)}}return t}},{key:"openDoc",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.initialized=!0,e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},{key:"isOpen",value:function(){return this.initialized}},{key:"setCallback",value:function(e){console.log("Update function registered"),this.callback=e}}]),e}(),K=z,Y=n(139),q=n(214);n(354),n(355);var Z=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!1),s=Object(d.a)(o,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){c!==e.dropdown&&(console.log("User clicked"),console.log(e.dropdown),l(!i),a(e.dropdown))}),[e.dropdown,c,i]),Object(A.jsxs)("div",{onClick:function(){l(!i)},className:i?"dropdown-menu":"drop-menu",children:[Object(A.jsx)(N.b,{className:"menu-items",to:"/",onClick:function(){return l(!1)},children:e.text.searchTitle}),Object(A.jsx)(N.b,{className:"menu-items",to:"/checkOut",onClick:function(){return l(!1)},children:e.text.checkOutTitle})]})},V="data:image/png;base64,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",F=n(210),Q=n.n(F);var M,W,G=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"navbar",children:[Object(A.jsxs)("div",{className:"title",children:[Object(A.jsx)("img",{id:"logo",src:V,alt:"HKMCC"}),Object(A.jsx)("h1",{children:"HKMCC Library "})]}),Object(A.jsx)("div",{className:"menu",onClick:function(){a(!c)},children:Object(A.jsx)(Q.a,{className:"img",fontSize:"large",color:"primary"})}),Object(A.jsx)(Z,{text:e.text,dropdown:c})]})})},J=Object(C.a)(M||(M=Object(l.a)(["\n    query AllBook{\n        books (sortBy: TITLE_ASC, limit:20000) {\n            _id\n            author\n            title\n            claim_num\n            num\n            series\n            category\n            claim\n            publisher\n            seqnum\n        }\n    }\n"]))),X=Object(C.a)(W||(W=Object(l.a)(["\n    query AllRent{\n        rents (limit:20000) {\n            _id\n            book_id\n            user_id\n            rent_date\n            return_date\n            state\n        }\n    }\n"]))),_=new K,$={},ee="";var te=function(){var e=Object(q.b)(X),t=e.loading,n=e.error,o=e.data,s=Object(q.b)(J),i=s.loading,l=s.error,u=s.data;return Object(r.useEffect)((function(){console.log("Rent Query Updated"),ee=ee+"<p>Rent Query Updated "+t+" "+n+"</p>",console.log(t),console.log(n),o&&(console.log("Rent available"),ee+="<p>Rent available</p>",_.setRent(o.rents))}),[t,n,o]),Object(r.useEffect)((function(){console.log("Book Query Updated"),ee+="<p>Book Query Updated</p>",console.log(i),console.log(l),u&&(console.log("Book available"),ee+="<p>Book available</p>",_.setBook(u.books))}),[i,l,u]),Object(r.useEffect)((function(){function e(){return(e=Object(a.a)(Object(c.a)().mark((function e(){var t,n,a,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in console.log("Initialize app"),ee+="<p>Initialize app</p>",console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/hkmcclib",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"library",REACT_APP_VERSION:"0.5.0"}).APP_NAME),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/hkmcclib",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"library",REACT_APP_VERSION:"0.5.0"}).APP_VERSION),t=navigator.languages,console.log(t),n={},n=t.length>0&&(t[0].toLowerCase().includes("kr")||t[0].toLowerCase().includes("ko"))?Y.kr:Y.en)$[a]=n[a];(r=p).type=b.c.TYPE.LOADING,r.autoClose=!1,r.toastId=f,b.c.loading($.loading,r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(A.jsx)(N.a,{children:Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(G,{text:$}),Object(A.jsxs)(L.c,{children:[Object(A.jsx)(L.a,{path:"/",element:Object(A.jsx)(E,{doc:_,text:$})}),Object(A.jsx)(L.a,{path:"/checkOut",element:Object(A.jsx)(U,{doc:_,text:$})})]}),Object(A.jsx)("div",{children:Object(A.jsx)(b.a,{newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0,pauseOnFocusLoss:!1,transition:b.b,limit:2})}),Object(A.jsxs)("h2",{children:["v ","0.5.0"]})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},ce=n(140),ae=n(379),re=n(378),oe=n(380),se=n(377),ie="data-xaque",le="https://realm.mongodb.com/api/client/v2.0/app/".concat(ie,"/graphql"),ue=new ce.a(ie);function de(){return be.apply(this,arguments)}function be(){return(be=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.currentUser){e.next=5;break}return e.next=3,ue.logIn(ce.b.anonymous());case 3:e.next=7;break;case 5:return e.next=7,ue.currentUser.refreshAccessToken();case 7:return e.abrupt("return",ue.currentUser.accessToken);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=new ae.a({link:new re.a({uri:le,fetch:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return a=e.sent,n.headers.Authorization="Bearer ".concat(a),e.abrupt("return",fetch(t,n));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),cache:new oe.a});i.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(se.a,{client:je,children:Object(A.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[357,1,2]]]);
//# sourceMappingURL=main.5f30075a.chunk.js.map